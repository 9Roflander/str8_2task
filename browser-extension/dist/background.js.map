{
  "version": 3,
  "sources": ["../src/background/index.js"],
  "sourcesContent": ["/**\n * Background Service Worker for Meetily Browser Extension\n * Handles extension lifecycle and message routing\n */\n\n// Listen for extension installation\nchrome.runtime.onInstalled.addListener((details) => {\n    console.log('Meetily extension installed:', details.reason);\n\n    if (details.reason === 'install') {\n        // First time installation\n        chrome.storage.local.set({\n            installed: true,\n            version: chrome.runtime.getManifest().version\n        });\n    }\n});\n\n// Listen for messages from content scripts\nchrome.runtime.onMessage.addListener((request, sender, sendResponse) => {\n    console.log('Background received message:', request);\n\n    if (request.action === 'postMessage') {\n        // Forward message posting request to content script\n        chrome.tabs.query({ active: true, currentWindow: true }, (tabs) => {\n            if (tabs[0]) {\n                chrome.tabs.sendMessage(tabs[0].id, {\n                    action: 'postMessage',\n                    message: request.message,\n                    platform: request.platform\n                });\n            }\n        });\n        sendResponse({ success: true });\n    }\n\n    return true; // Keep message channel open for async response\n});\n\n// Listen for external messages from Meetly web app\nchrome.runtime.onMessageExternal.addListener((request, sender, sendResponse) => {\n    console.log('Background received external message from:', sender.url);\n    console.log('Request:', request);\n\n    if (request.action === 'postMessage') {\n        // Find the tab with the meeting platform\n        chrome.tabs.query({}, (tabs) => {\n            const meetingTab = tabs.find(tab =>\n                tab.url.includes('meet.google.com') ||\n                tab.url.includes('zoom.us') ||\n                tab.url.includes('teams.microsoft.com')\n            );\n\n            if (meetingTab) {\n                chrome.tabs.sendMessage(meetingTab.id, {\n                    action: 'postMessage',\n                    message: request.message,\n                    platform: request.platform\n                }, (response) => {\n                    if (chrome.runtime.lastError) {\n                        sendResponse({\n                            success: false,\n                            error: chrome.runtime.lastError.message\n                        });\n                    } else {\n                        sendResponse(response);\n                    }\n                });\n            } else {\n                sendResponse({\n                    success: false,\n                    error: 'No active meeting tab found'\n                });\n            }\n        });\n\n        return true; // Keep message channel open for async response\n    }\n\n    if (request.action === 'ping') {\n        sendResponse({ success: true, message: 'Extension is active' });\n        return true;\n    }\n});\n\n// Handle extension icon click\nchrome.action.onClicked.addListener((tab) => {\n    // Open popup (defined in manifest)\n    // Or handle click action here if needed\n});\n"],
  "mappings": ";;AAMA,SAAO,QAAQ,YAAY,YAAY,CAAC,YAAY;AAChD,YAAQ,IAAI,gCAAgC,QAAQ,MAAM;AAE1D,QAAI,QAAQ,WAAW,WAAW;AAE9B,aAAO,QAAQ,MAAM,IAAI;AAAA,QACrB,WAAW;AAAA,QACX,SAAS,OAAO,QAAQ,YAAY,EAAE;AAAA,MAC1C,CAAC;AAAA,IACL;AAAA,EACJ,CAAC;AAGD,SAAO,QAAQ,UAAU,YAAY,CAAC,SAAS,QAAQ,iBAAiB;AACpE,YAAQ,IAAI,gCAAgC,OAAO;AAEnD,QAAI,QAAQ,WAAW,eAAe;AAElC,aAAO,KAAK,MAAM,EAAE,QAAQ,MAAM,eAAe,KAAK,GAAG,CAAC,SAAS;AAC/D,YAAI,KAAK,CAAC,GAAG;AACT,iBAAO,KAAK,YAAY,KAAK,CAAC,EAAE,IAAI;AAAA,YAChC,QAAQ;AAAA,YACR,SAAS,QAAQ;AAAA,YACjB,UAAU,QAAQ;AAAA,UACtB,CAAC;AAAA,QACL;AAAA,MACJ,CAAC;AACD,mBAAa,EAAE,SAAS,KAAK,CAAC;AAAA,IAClC;AAEA,WAAO;AAAA,EACX,CAAC;AAGD,SAAO,QAAQ,kBAAkB,YAAY,CAAC,SAAS,QAAQ,iBAAiB;AAC5E,YAAQ,IAAI,8CAA8C,OAAO,GAAG;AACpE,YAAQ,IAAI,YAAY,OAAO;AAE/B,QAAI,QAAQ,WAAW,eAAe;AAElC,aAAO,KAAK,MAAM,CAAC,GAAG,CAAC,SAAS;AAC5B,cAAM,aAAa,KAAK;AAAA,UAAK,SACzB,IAAI,IAAI,SAAS,iBAAiB,KAClC,IAAI,IAAI,SAAS,SAAS,KAC1B,IAAI,IAAI,SAAS,qBAAqB;AAAA,QAC1C;AAEA,YAAI,YAAY;AACZ,iBAAO,KAAK,YAAY,WAAW,IAAI;AAAA,YACnC,QAAQ;AAAA,YACR,SAAS,QAAQ;AAAA,YACjB,UAAU,QAAQ;AAAA,UACtB,GAAG,CAAC,aAAa;AACb,gBAAI,OAAO,QAAQ,WAAW;AAC1B,2BAAa;AAAA,gBACT,SAAS;AAAA,gBACT,OAAO,OAAO,QAAQ,UAAU;AAAA,cACpC,CAAC;AAAA,YACL,OAAO;AACH,2BAAa,QAAQ;AAAA,YACzB;AAAA,UACJ,CAAC;AAAA,QACL,OAAO;AACH,uBAAa;AAAA,YACT,SAAS;AAAA,YACT,OAAO;AAAA,UACX,CAAC;AAAA,QACL;AAAA,MACJ,CAAC;AAED,aAAO;AAAA,IACX;AAEA,QAAI,QAAQ,WAAW,QAAQ;AAC3B,mBAAa,EAAE,SAAS,MAAM,SAAS,sBAAsB,CAAC;AAC9D,aAAO;AAAA,IACX;AAAA,EACJ,CAAC;AAGD,SAAO,OAAO,UAAU,YAAY,CAAC,QAAQ;AAAA,EAG7C,CAAC;",
  "names": []
}
