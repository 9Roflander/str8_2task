{
  "version": 3,
  "sources": ["../src/popup/popup.js"],
  "sourcesContent": ["/**\n * Popup Script for Meetily Browser Extension\n * Handles the extension popup UI\n */\n\n// Check current tab and update UI\nasync function updateUI() {\n    const [tab] = await chrome.tabs.query({ active: true, currentWindow: true });\n\n    if (!tab) {\n        return;\n    }\n\n    const url = tab.url;\n    const statusDiv = document.getElementById('status');\n    const postButton = document.getElementById('postButton');\n    const messageTextarea = document.getElementById('message');\n\n    // Detect platform\n    let platform = null;\n    if (url.includes('meet.google.com')) {\n        platform = 'google-meet';\n    } else if (url.includes('zoom.us') || url.includes('.zoom.us')) {\n        platform = 'zoom';\n    } else if (url.includes('teams.microsoft.com')) {\n        platform = 'microsoft-teams';\n    }\n\n    if (platform) {\n        statusDiv.textContent = `Active on ${platform.replace('-', ' ').replace(/\\b\\w/g, l => l.toUpperCase())}`;\n        statusDiv.className = 'status active';\n        postButton.disabled = false;\n    } else {\n        statusDiv.textContent = 'Not on a supported meeting platform';\n        statusDiv.className = 'status inactive';\n        postButton.disabled = true;\n    }\n}\n\n// Post message when button is clicked\ndocument.getElementById('postButton').addEventListener('click', async () => {\n    const message = document.getElementById('message').value.trim();\n\n    if (!message) {\n        alert('Please enter a message');\n        return;\n    }\n\n    const [tab] = await chrome.tabs.query({ active: true, currentWindow: true });\n\n    if (!tab) {\n        alert('Could not find active tab');\n        return;\n    }\n\n    // Detect platform\n    let platform = null;\n    if (tab.url.includes('meet.google.com')) {\n        platform = 'google-meet';\n    } else if (tab.url.includes('zoom.us') || tab.url.includes('.zoom.us')) {\n        platform = 'zoom';\n    } else if (tab.url.includes('teams.microsoft.com')) {\n        platform = 'microsoft-teams';\n    }\n\n    if (!platform) {\n        alert('Not on a supported meeting platform');\n        return;\n    }\n\n    // Send message to content script\n    try {\n        const response = await chrome.tabs.sendMessage(tab.id, {\n            action: 'postMessage',\n            message: message,\n            platform: platform\n        });\n\n        if (response && response.success === false) {\n            // Error from content script\n            alert(`Failed to post message: ${response.error || 'Unknown error'}\\n\\nMake sure:\\n- You are in an active meeting\\n- The chat panel is open\\n- You have permission to send messages`);\n            return;\n        }\n\n        // Clear message field\n        document.getElementById('message').value = '';\n        alert('Message posted successfully!');\n    } catch (error) {\n        console.error('Error posting message:', error);\n\n        // Check if it's a connection error (content script not loaded)\n        if (error.message && error.message.includes('Could not establish connection')) {\n            alert('Extension not ready. Please:\\n1. Refresh the meeting page\\n2. Make sure you are in an active meeting\\n3. Try again');\n        } else {\n            alert(`Failed to post message: ${error.message || 'Unknown error'}\\n\\nTroubleshooting:\\n- Make sure the chat panel is open in the meeting\\n- Check browser console (F12) for details\\n- Try refreshing the page`);\n        }\n    }\n});\n\n// Update UI when popup opens\nupdateUI();\n"],
  "mappings": ";;AAMA,iBAAe,WAAW;AACtB,UAAM,CAAC,GAAG,IAAI,MAAM,OAAO,KAAK,MAAM,EAAE,QAAQ,MAAM,eAAe,KAAK,CAAC;AAE3E,QAAI,CAAC,KAAK;AACN;AAAA,IACJ;AAEA,UAAM,MAAM,IAAI;AAChB,UAAM,YAAY,SAAS,eAAe,QAAQ;AAClD,UAAM,aAAa,SAAS,eAAe,YAAY;AACvD,UAAM,kBAAkB,SAAS,eAAe,SAAS;AAGzD,QAAI,WAAW;AACf,QAAI,IAAI,SAAS,iBAAiB,GAAG;AACjC,iBAAW;AAAA,IACf,WAAW,IAAI,SAAS,SAAS,KAAK,IAAI,SAAS,UAAU,GAAG;AAC5D,iBAAW;AAAA,IACf,WAAW,IAAI,SAAS,qBAAqB,GAAG;AAC5C,iBAAW;AAAA,IACf;AAEA,QAAI,UAAU;AACV,gBAAU,cAAc,aAAa,SAAS,QAAQ,KAAK,GAAG,EAAE,QAAQ,SAAS,OAAK,EAAE,YAAY,CAAC,CAAC;AACtG,gBAAU,YAAY;AACtB,iBAAW,WAAW;AAAA,IAC1B,OAAO;AACH,gBAAU,cAAc;AACxB,gBAAU,YAAY;AACtB,iBAAW,WAAW;AAAA,IAC1B;AAAA,EACJ;AAGA,WAAS,eAAe,YAAY,EAAE,iBAAiB,SAAS,YAAY;AACxE,UAAM,UAAU,SAAS,eAAe,SAAS,EAAE,MAAM,KAAK;AAE9D,QAAI,CAAC,SAAS;AACV,YAAM,wBAAwB;AAC9B;AAAA,IACJ;AAEA,UAAM,CAAC,GAAG,IAAI,MAAM,OAAO,KAAK,MAAM,EAAE,QAAQ,MAAM,eAAe,KAAK,CAAC;AAE3E,QAAI,CAAC,KAAK;AACN,YAAM,2BAA2B;AACjC;AAAA,IACJ;AAGA,QAAI,WAAW;AACf,QAAI,IAAI,IAAI,SAAS,iBAAiB,GAAG;AACrC,iBAAW;AAAA,IACf,WAAW,IAAI,IAAI,SAAS,SAAS,KAAK,IAAI,IAAI,SAAS,UAAU,GAAG;AACpE,iBAAW;AAAA,IACf,WAAW,IAAI,IAAI,SAAS,qBAAqB,GAAG;AAChD,iBAAW;AAAA,IACf;AAEA,QAAI,CAAC,UAAU;AACX,YAAM,qCAAqC;AAC3C;AAAA,IACJ;AAGA,QAAI;AACA,YAAM,WAAW,MAAM,OAAO,KAAK,YAAY,IAAI,IAAI;AAAA,QACnD,QAAQ;AAAA,QACR;AAAA,QACA;AAAA,MACJ,CAAC;AAED,UAAI,YAAY,SAAS,YAAY,OAAO;AAExC,cAAM,2BAA2B,SAAS,SAAS,eAAe;AAAA;AAAA;AAAA;AAAA;AAAA,uCAAkH;AACpL;AAAA,MACJ;AAGA,eAAS,eAAe,SAAS,EAAE,QAAQ;AAC3C,YAAM,8BAA8B;AAAA,IACxC,SAAS,OAAO;AACZ,cAAQ,MAAM,0BAA0B,KAAK;AAG7C,UAAI,MAAM,WAAW,MAAM,QAAQ,SAAS,gCAAgC,GAAG;AAC3E,cAAM,oHAAoH;AAAA,MAC9H,OAAO;AACH,cAAM,2BAA2B,MAAM,WAAW,eAAe;AAAA;AAAA;AAAA;AAAA;AAAA,0BAA+I;AAAA,MACpN;AAAA,IACJ;AAAA,EACJ,CAAC;AAGD,WAAS;",
  "names": []
}
